{
  "urn": "urn:mediator:shared-health-record",
  "version": "1.2.2-dev",
  "name": "Shared Health Record",
  "description": "Shared Health Record",
  "config": {
    "fhirServer": {
      "username": "",
      "password": "",
      "baseURL": "http://localhost:8090/fhir"
    },
    "clientRegistry": {
      "username": "",
      "password": "",
      "url": "https://localhost:5000/CR/fhir"
    }
  },
  "defaultChannelConfig": [
    {
      "methods": [
        "GET",
        "POST",
        "PUT",
        "PATCH"
      ],
      "type": "http",
      "authType": "private",
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "requestBody": true,
      "responseBody": true,
      "name": "SHR - Passthrough",
      "description": "Get or Post a new FHIR Resource to the SHR",
      "urlPattern": "^/SHR/fhir.*$",
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "SHR - Get/Create/Update Resource",
          "secured": false,
          "host": "host.docker.internal",
          "port": 3000,
          "path": "",
          "pathTransform": "s/SHR\\/fhir/fhir/g",
          "primary": true,
          "username": "",
          "password": ""
        }
      ],
      "priority": 1
    },
    {
      "methods": [
        "GET",
        "POST",
        "PUT"
      ],
      "type": "http",
      "whitelist": [],
      "authType": "private",
      "matchContentTypes": [],
      "properties": [],
      "txViewAcl": [],
      "txViewFullAcl": [],
      "txRerunAcl": [],
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "autoRetryEnabled": false,
      "autoRetryPeriodMinutes": 60,
      "name": "SHR - Get/Update IPS",
      "requestBody": true,
      "responseBody": true,
      "description": "Get or Update the International Patient Summary Bundle from the SHR",
      "urlPattern": "^/SHR/fhir/ips.*$",
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "SHR - Get IPS",
          "secured": false,
          "host": "shr",
          "port": 3000,
          "path": "",
          "pathTransform": "s/SHR\\/fhir\\/ips/ips/g",
          "primary": true,
          "username": "",
          "password": ""
        }
      ],
      "alerts": [],
      "rewriteUrlsConfig": [],
      "priority": 2
    },
    {
      "methods": [
        "GET",
        "POST",
        "DELETE",
        "PUT"
      ],
      "type": "http",
      "whitelist": [],
      "authType": "private",
      "matchContentTypes": [],
      "properties": [],
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "autoRetryEnabled": false,
      "autoRetryPeriodMinutes": 60,
      "requestBody": true,
      "responseBody": true,
      "description": "Get or Update the Lab Workflow Bundles in the SHR",
      "urlPattern": "^/SHR/lab.*$",
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "SHR - Get Lab Bundle",
          "secured": false,
          "host": "host.docker.internal",
          "port": 3000,
          "path": "",
          "pathTransform": "s/SHR\\/lab/lab/g",
          "primary": true,
          "username": "",
          "password": ""
        }
      ],
      "alerts": [],
      "rewriteUrlsConfig": [],
      "priority": 3,
      "name": "SHR Lab"
    },
    
    {
      "methods": [
        "POST",
        "PUT"
      ],
      "type": "http",
      "whitelist": [],
      "authType": "public",
      "matchContentTypes": [],
      "properties": [],
      "status": "enabled",
      "rewriteUrls": false,
      "addAutoRewriteRules": true,
      "autoRetryEnabled": false,
      "autoRetryPeriodMinutes": 60,
      "requestBody": true,
      "responseBody": true,
      "description": "Send HL7v2 message to SHR",
      "urlPattern": "^/SHR/hl7/.*$",
      "routes": [
        {
          "type": "http",
          "status": "enabled",
          "forwardAuthHeader": false,
          "name": "SHR - Get Lab Bundle",
          "secured": false,
          "host": "host.docker.internal",
          "port": 3000,
          "path": "",
          "pathTransform": "s/SHR\\/hl7/hl7/g",
          "primary": true,
          "username": "",
          "password": ""
        }
      ],
      "alerts": [],
      "rewriteUrlsConfig": [],
      "priority": 2,
      "name": "SHR HL7"
    }
  ],
  "endpoints": [
    {
      "name": "SHR Endpoint",
      "host": "host.docker.internal",
      "path": "/",
      "port": 3000,
      "primary": true,
      "forwardAuthHeader": false,
      "status": "enabled",
      "type": "http"
    }
  ]
}